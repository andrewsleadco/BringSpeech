{"ast":null,"code":"// pages/UserProfile.jsx\nimport React,{useState,useEffect,useContext}from'react';import{AuthContext}from'../App';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfile=()=>{var _session$user;const{session,supabase}=useContext(AuthContext);const[loading,setLoading]=useState(true);const[updating,setUpdating]=useState(false);const[error,setError]=useState(null);const[success,setSuccess]=useState(null);const[profile,setProfile]=useState({full_name:'',bio:'',avatar_url:null,website:'',role:'student'});const[avatarFile,setAvatarFile]=useState(null);const[avatarPreview,setAvatarPreview]=useState(null);useEffect(()=>{const fetchProfile=async()=>{try{if(!(session!==null&&session!==void 0&&session.user))return;const{data,error}=await supabase.from('profiles').select('*').eq('id',session.user.id).single();if(error&&error.code!=='PGRST116'){throw error;}if(data){setProfile({full_name:data.full_name||'',bio:data.bio||'',avatar_url:data.avatar_url||null,website:data.website||'',role:data.role||'student'});if(data.avatar_url){setAvatarPreview(data.avatar_url);}}}catch(error){console.error('Error fetching profile:',error);setError('Failed to load profile data.');}finally{setLoading(false);}};fetchProfile();},[session,supabase]);const handleChange=e=>{const{name,value}=e.target;setProfile({...profile,[name]:value});};const handleAvatarChange=e=>{const file=e.target.files[0];if(file){setAvatarFile(file);const reader=new FileReader();reader.onload=e=>{setAvatarPreview(e.target.result);};reader.readAsDataURL(file);}};const handleSubmit=async e=>{e.preventDefault();setUpdating(true);setError(null);setSuccess(null);try{let avatarUrl=profile.avatar_url;// Upload avatar if there's a new one\nif(avatarFile){const fileExt=avatarFile.name.split('.').pop();const fileName=`${Date.now()}.${fileExt}`;const filePath=`avatars/${fileName}`;const{error:uploadError}=await supabase.storage.from('user-content').upload(filePath,avatarFile);if(uploadError)throw uploadError;const{data}=supabase.storage.from('user-content').getPublicUrl(filePath);avatarUrl=data.publicUrl;}// Update profile\nconst{error}=await supabase.from('profiles').upsert({id:session.user.id,full_name:profile.full_name,bio:profile.bio,avatar_url:avatarUrl,website:profile.website,role:profile.role,updated_at:new Date()});if(error)throw error;setProfile({...profile,avatar_url:avatarUrl});setSuccess('Profile updated successfully!');}catch(error){console.error('Error updating profile:',error);setError('Failed to update profile. Please try again.');}finally{setUpdating(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Your Profile\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4\",children:success}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:(session===null||session===void 0?void 0:(_session$user=session.user)===null||_session$user===void 0?void 0:_session$user.email)||'',className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-100\",disabled:true}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Email cannot be changed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"full_name\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"full_name\",name:\"full_name\",value:profile.full_name,onChange:handleChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",placeholder:\"Your full name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"bio\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"bio\",name:\"bio\",value:profile.bio,onChange:handleChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\",placeholder:\"Tell us about yourself\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",htmlFor:\"website\",children:\"Website\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"website\",name:\"website\",value:profile.website,onChange:handleChange,className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",placeholder:\"https://example.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 font-bold mb-2\",children:\"Avatar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-4\",children:avatarPreview?/*#__PURE__*/_jsx(\"img\",{src:avatarPreview,alt:\"Avatar preview\",className:\"h-20 w-20 rounded-full object-cover border border-gray-200\"}):/*#__PURE__*/_jsx(\"div\",{className:\"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-10 w-10\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"avatar\",accept:\"image/*\",onChange:handleAvatarChange,className:\"text-sm text-gray-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Upload a new avatar (max 2MB)\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:updating,className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",children:updating?'Saving...':'Save Profile'})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mt-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Account Settings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert(\"For password reset, please use the 'Forgot Password' option on the login page\"),className:\"text-blue-500 hover:text-blue-700\",children:\"Change Password\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('Are you sure you want to delete your account? This action cannot be undone.')){alert('Account deletion will be processed. You will receive a confirmation email.');}},className:\"text-red-500 hover:text-red-700\",children:\"Delete Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"This will permanently delete your account and all associated data.\"})]})]})]});};export default UserProfile;","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","UserProfile","_session$user","session","supabase","loading","setLoading","updating","setUpdating","error","setError","success","setSuccess","profile","setProfile","full_name","bio","avatar_url","website","role","avatarFile","setAvatarFile","avatarPreview","setAvatarPreview","fetchProfile","user","data","from","select","eq","id","single","code","console","handleChange","e","name","value","target","handleAvatarChange","file","files","reader","FileReader","onload","result","readAsDataURL","handleSubmit","preventDefault","avatarUrl","fileExt","split","pop","fileName","Date","now","filePath","uploadError","storage","upload","getPublicUrl","publicUrl","upsert","updated_at","className","children","onSubmit","type","email","disabled","htmlFor","onChange","placeholder","src","alt","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","accept","onClick","alert","window","confirm"],"sources":["/workspaces/BringSpeech/src/pages/UserProfile.jsx"],"sourcesContent":["// pages/UserProfile.jsx\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../App';\n\nconst UserProfile = () => {\n  const { session, supabase } = useContext(AuthContext);\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  \n  const [profile, setProfile] = useState({\n    full_name: '',\n    bio: '',\n    avatar_url: null,\n    website: '',\n    role: 'student',\n  });\n  \n  const [avatarFile, setAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState(null);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        if (!session?.user) return;\n\n        const { data, error } = await supabase\n          .from('profiles')\n          .select('*')\n          .eq('id', session.user.id)\n          .single();\n\n        if (error && error.code !== 'PGRST116') {\n          throw error;\n        }\n\n        if (data) {\n          setProfile({\n            full_name: data.full_name || '',\n            bio: data.bio || '',\n            avatar_url: data.avatar_url || null,\n            website: data.website || '',\n            role: data.role || 'student',\n          });\n\n          if (data.avatar_url) {\n            setAvatarPreview(data.avatar_url);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n        setError('Failed to load profile data.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProfile();\n  }, [session, supabase]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setProfile({\n      ...profile,\n      [name]: value,\n    });\n  };\n\n  const handleAvatarChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setAvatarFile(file);\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setAvatarPreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setUpdating(true);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      let avatarUrl = profile.avatar_url;\n\n      // Upload avatar if there's a new one\n      if (avatarFile) {\n        const fileExt = avatarFile.name.split('.').pop();\n        const fileName = `${Date.now()}.${fileExt}`;\n        const filePath = `avatars/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n          .from('user-content')\n          .upload(filePath, avatarFile);\n\n        if (uploadError) throw uploadError;\n\n        const { data } = supabase.storage\n          .from('user-content')\n          .getPublicUrl(filePath);\n\n        avatarUrl = data.publicUrl;\n      }\n\n      // Update profile\n      const { error } = await supabase\n        .from('profiles')\n        .upsert({\n          id: session.user.id,\n          full_name: profile.full_name,\n          bio: profile.bio,\n          avatar_url: avatarUrl,\n          website: profile.website,\n          role: profile.role,\n          updated_at: new Date(),\n        });\n\n      if (error) throw error;\n\n      setProfile({\n        ...profile,\n        avatar_url: avatarUrl,\n      });\n\n      setSuccess('Profile updated successfully!');\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      setError('Failed to update profile. Please try again.');\n    } finally {\n      setUpdating(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      <h1 className=\"text-3xl font-bold mb-6\">Your Profile</h1>\n\n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n          {error}\n        </div>\n      )}\n\n      {success && (\n        <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4\">\n          {success}\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 font-bold mb-2\">Email</label>\n            <input\n              type=\"email\"\n              value={session?.user?.email || ''}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-100\"\n              disabled\n            />\n            <p className=\"text-sm text-gray-500 mt-1\">Email cannot be changed</p>\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"full_name\">\n              Full Name\n            </label>\n            <input\n              type=\"text\"\n              id=\"full_name\"\n              name=\"full_name\"\n              value={profile.full_name}\n              onChange={handleChange}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              placeholder=\"Your full name\"\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"bio\">\n              Bio\n            </label>\n            <textarea\n              id=\"bio\"\n              name=\"bio\"\n              value={profile.bio}\n              onChange={handleChange}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\"\n              placeholder=\"Tell us about yourself\"\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"website\">\n              Website\n            </label>\n            <input\n              type=\"url\"\n              id=\"website\"\n              name=\"website\"\n              value={profile.website}\n              onChange={handleChange}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              placeholder=\"https://example.com\"\n            />\n          </div>\n\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 font-bold mb-2\">Avatar</label>\n            <div className=\"flex items-center\">\n              <div className=\"mr-4\">\n                {avatarPreview ? (\n                  <img\n                    src={avatarPreview}\n                    alt=\"Avatar preview\"\n                    className=\"h-20 w-20 rounded-full object-cover border border-gray-200\"\n                  />\n                ) : (\n                  <div className=\"h-20 w-20 rounded-full bg-gray-200 flex items-center justify-center text-gray-400\">\n                    <svg className=\"h-10 w-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"></path>\n                    </svg>\n                  </div>\n                )}\n              </div>\n              <div>\n                <input\n                  type=\"file\"\n                  id=\"avatar\"\n                  accept=\"image/*\"\n                  onChange={handleAvatarChange}\n                  className=\"text-sm text-gray-500\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Upload a new avatar (max 2MB)\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end\">\n            <button\n              type=\"submit\"\n              disabled={updating}\n              className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            >\n              {updating ? 'Saving...' : 'Save Profile'}\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-md p-6 mt-8\">\n        <h2 className=\"text-xl font-bold mb-4\">Account Settings</h2>\n        \n        <div className=\"mb-6\">\n          <button\n            onClick={() => alert(\"For password reset, please use the 'Forgot Password' option on the login page\")}\n            className=\"text-blue-500 hover:text-blue-700\"\n          >\n            Change Password\n          </button>\n        </div>\n        \n        <div>\n          <button\n            onClick={() => {\n              if (window.confirm('Are you sure you want to delete your account? This action cannot be undone.')) {\n                alert('Account deletion will be processed. You will receive a confirmation email.');\n              }\n            }}\n            className=\"text-red-500 hover:text-red-700\"\n          >\n            Delete Account\n          </button>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            This will permanently delete your account and all associated data.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}