{"ast":null,"code":"// pages/CourseDetail.jsx\nimport React,{useEffect,useState,useContext}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import{AuthContext}from'../App';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseDetail=()=>{const{id}=useParams();const navigate=useNavigate();const{session,supabase}=useContext(AuthContext);const[course,setCourse]=useState(null);const[lessons,setLessons]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[enrolled,setEnrolled]=useState(false);const[userRole,setUserRole]=useState(null);const[currentLesson,setCurrentLesson]=useState(null);useEffect(()=>{const fetchCourse=async()=>{try{// Fetch course details\nconst{data:courseData,error:courseError}=await supabase.from('courses').select('*').eq('id',id).single();if(courseError)throw courseError;setCourse(courseData);// Fetch lessons\nconst{data:lessonsData,error:lessonsError}=await supabase.from('lessons').select('*').eq('course_id',id).order('order_index',{ascending:true});if(lessonsError)throw lessonsError;setLessons(lessonsData||[]);// Check enrollment if user is logged in\nif(session!==null&&session!==void 0&&session.user){const{data:enrollmentData,error:enrollmentError}=await supabase.from('enrollments').select('*').eq('course_id',id).eq('user_id',session.user.id).single();if(enrollmentError&&enrollmentError.code!=='PGRST116'){throw enrollmentError;}setEnrolled(!!enrollmentData);// Get user role\nconst{data:userData,error:userError}=await supabase.from('profiles').select('role').eq('id',session.user.id).single();if(userError)throw userError;setUserRole(userData===null||userData===void 0?void 0:userData.role);}}catch(error){console.error(error);setError('Error loading course');}finally{setLoading(false);}};fetchCourse();},[id,supabase,session]);const handleEnroll=async()=>{if(!session){navigate('/login');return;}try{const{error}=await supabase.from('enrollments').insert([{user_id:session.user.id,course_id:id}]);if(error)throw error;setEnrolled(true);}catch(error){console.error('Error enrolling in course:',error);}};const openLesson=lesson=>{setCurrentLesson(lesson);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"})});}if(error||!course){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",children:error||'Course not found'});}const isCreator=userRole==='admin'||userRole==='instructor';return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden mb-6\",children:[course.cover_image?/*#__PURE__*/_jsx(\"img\",{src:course.cover_image,alt:course.title,className:\"w-full h-64 object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-64 bg-gray-200 flex items-center justify-center text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:course.title}),isCreator&&/*#__PURE__*/_jsx(Link,{to:`/course/edit/${course.id}`,className:\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded\",children:\"Edit Course\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4 text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full mr-3\",children:course.level||'All Levels'}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600 mr-3\",children:[lessons.length,\" lessons\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:course.duration||'Self-paced'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"About this course\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 whitespace-pre-line\",children:course.description})]}),currentLesson&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:currentLesson.title}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:currentLesson.content}})}),currentLesson.video_url&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"video\",{controls:true,className:\"w-full rounded-lg\",src:currentLesson.video_url})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-6 sticky top-6\",children:!enrolled&&!isCreator?/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEnroll,className:\"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded mb-4\",children:\"Enroll in Course\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm text-center\",children:\"Enroll to access all course materials\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-2\",children:\"Course Content\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm mb-4\",children:[lessons.length,\" lessons \\u2022 \",course.duration||'Self-paced']}),/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:lessons.map(lesson=>/*#__PURE__*/_jsx(\"li\",{className:\"py-3\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openLesson(lesson),className:\"flex items-start w-full text-left hover:bg-gray-50 p-2 rounded\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 text-blue-800 text-xs flex items-center justify-center mr-3 mt-0.5\",children:lesson.order_index+1}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:lesson.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:lesson.duration||'Video'})]})]})},lesson.id))})]})})})]});};export default CourseDetail;","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","Link","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","CourseDetail","id","navigate","session","supabase","course","setCourse","lessons","setLessons","loading","setLoading","error","setError","enrolled","setEnrolled","userRole","setUserRole","currentLesson","setCurrentLesson","fetchCourse","data","courseData","courseError","from","select","eq","single","lessonsData","lessonsError","order","ascending","user","enrollmentData","enrollmentError","code","userData","userError","role","console","handleEnroll","insert","user_id","course_id","openLesson","lesson","className","children","isCreator","cover_image","src","alt","title","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","to","level","length","duration","description","dangerouslySetInnerHTML","__html","content","video_url","controls","onClick","map","order_index"],"sources":["/workspaces/BringSpeech/src/pages/CourseDetail.jsx"],"sourcesContent":["// pages/CourseDetail.jsx\nimport React, { useEffect, useState, useContext } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../App';\n\nconst CourseDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { session, supabase } = useContext(AuthContext);\n  const [course, setCourse] = useState(null);\n  const [lessons, setLessons] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [enrolled, setEnrolled] = useState(false);\n  const [userRole, setUserRole] = useState(null);\n  const [currentLesson, setCurrentLesson] = useState(null);\n\n  useEffect(() => {\n    const fetchCourse = async () => {\n      try {\n        // Fetch course details\n        const { data: courseData, error: courseError } = await supabase\n          .from('courses')\n          .select('*')\n          .eq('id', id)\n          .single();\n\n        if (courseError) throw courseError;\n        setCourse(courseData);\n\n        // Fetch lessons\n        const { data: lessonsData, error: lessonsError } = await supabase\n          .from('lessons')\n          .select('*')\n          .eq('course_id', id)\n          .order('order_index', { ascending: true });\n\n        if (lessonsError) throw lessonsError;\n        setLessons(lessonsData || []);\n\n        // Check enrollment if user is logged in\n        if (session?.user) {\n          const { data: enrollmentData, error: enrollmentError } = await supabase\n            .from('enrollments')\n            .select('*')\n            .eq('course_id', id)\n            .eq('user_id', session.user.id)\n            .single();\n\n          if (enrollmentError && enrollmentError.code !== 'PGRST116') {\n            throw enrollmentError;\n          }\n\n          setEnrolled(!!enrollmentData);\n\n          // Get user role\n          const { data: userData, error: userError } = await supabase\n            .from('profiles')\n            .select('role')\n            .eq('id', session.user.id)\n            .single();\n\n          if (userError) throw userError;\n          setUserRole(userData?.role);\n        }\n      } catch (error) {\n        console.error(error);\n        setError('Error loading course');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchCourse();\n  }, [id, supabase, session]);\n\n  const handleEnroll = async () => {\n    if (!session) {\n      navigate('/login');\n      return;\n    }\n\n    try {\n      const { error } = await supabase.from('enrollments').insert([\n        {\n          user_id: session.user.id,\n          course_id: id,\n        },\n      ]);\n\n      if (error) throw error;\n      setEnrolled(true);\n    } catch (error) {\n      console.error('Error enrolling in course:', error);\n    }\n  };\n\n  const openLesson = (lesson) => {\n    setCurrentLesson(lesson);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  if (error || !course) {\n    return (\n      <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n        {error || 'Course not found'}\n      </div>\n    );\n  }\n\n  const isCreator = userRole === 'admin' || userRole === 'instructor';\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n      <div className=\"lg:col-span-2\">\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden mb-6\">\n          {course.cover_image ? (\n            <img\n              src={course.cover_image}\n              alt={course.title}\n              className=\"w-full h-64 object-cover\"\n            />\n          ) : (\n            <div className=\"w-full h-64 bg-gray-200 flex items-center justify-center text-gray-400\">\n              <svg className=\"w-16 h-16\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\n              </svg>\n            </div>\n          )}\n          <div className=\"p-6\">\n            <div className=\"flex justify-between items-start mb-4\">\n              <h1 className=\"text-3xl font-bold\">{course.title}</h1>\n              {isCreator && (\n                <Link\n                  to={`/course/edit/${course.id}`}\n                  className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded\"\n                >\n                  Edit Course\n                </Link>\n              )}\n            </div>\n            <div className=\"flex items-center mb-4 text-sm\">\n              <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full mr-3\">\n                {course.level || 'All Levels'}\n              </span>\n              <span className=\"text-gray-600 mr-3\">{lessons.length} lessons</span>\n              <span className=\"text-gray-600\">{course.duration || 'Self-paced'}</span>\n            </div>\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-semibold mb-2\">About this course</h2>\n              <p className=\"text-gray-700 whitespace-pre-line\">{course.description}</p>\n            </div>\n            {currentLesson && (\n              <div className=\"mb-6\">\n                <h2 className=\"text-xl font-semibold mb-4\">{currentLesson.title}</h2>\n                <div className=\"bg-gray-100 rounded-lg p-4\">\n                  <div dangerouslySetInnerHTML={{ __html: currentLesson.content }} />\n                </div>\n                {currentLesson.video_url && (\n                  <div className=\"mt-4\">\n                    <video\n                      controls\n                      className=\"w-full rounded-lg\"\n                      src={currentLesson.video_url}\n                    ></video>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"lg:col-span-1\">\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6 sticky top-6\">\n          {!enrolled && !isCreator ? (\n            <div className=\"mb-6\">\n              <button\n                onClick={handleEnroll}\n                className=\"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded mb-4\"\n              >\n                Enroll in Course\n              </button>\n              <p className=\"text-gray-600 text-sm text-center\">\n                Enroll to access all course materials\n              </p>\n            </div>\n          ) : (\n            <div className=\"mb-4\">\n              <h3 className=\"text-lg font-semibold mb-2\">Course Content</h3>\n              <p className=\"text-gray-600 text-sm mb-4\">\n                {lessons.length} lessons â€¢ {course.duration || 'Self-paced'}\n              </p>\n              <ul className=\"divide-y divide-gray-200\">\n                {lessons.map((lesson) => (\n                  <li key={lesson.id} className=\"py-3\">\n                    <button\n                      onClick={() => openLesson(lesson)}\n                      className=\"flex items-start w-full text-left hover:bg-gray-50 p-2 rounded\"\n                    >\n                      <span className=\"flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 text-blue-800 text-xs flex items-center justify-center mr-3 mt-0.5\">\n                        {lesson.order_index + 1}\n                      </span>\n                      <div>\n                        <h4 className=\"font-medium\">{lesson.title}</h4>\n                        <p className=\"text-gray-500 text-sm\">{lesson.duration || 'Video'}</p>\n                      </div>\n                    </button>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CourseDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}