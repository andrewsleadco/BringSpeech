{"ast":null,"code":"var _jsxFileName = \"/workspaces/BringSpeech/src/pages/CourseEditor.jsx\",\n  _s = $RefreshSig$();\n// pages/CourseEditor.jsx\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseEditor = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    supabase,\n    session\n  } = useContext(AuthContext);\n  const isNewCourse = id === undefined;\n  const [course, setCourse] = useState({\n    title: '',\n    description: '',\n    level: 'Beginner',\n    cover_image: null,\n    duration: 'Self-paced'\n  });\n  const [lessons, setLessons] = useState([]);\n  const [loading, setLoading] = useState(!isNewCourse);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [coverImageFile, setCoverImageFile] = useState(null);\n  const [coverImagePreview, setCoverImagePreview] = useState(null);\n  const [currentLessonId, setCurrentLessonId] = useState(null);\n  const emptyLesson = {\n    title: '',\n    content: '',\n    video_url: '',\n    duration: '',\n    order_index: 0,\n    isNew: true\n  };\n  const [currentLesson, setCurrentLesson] = useState(emptyLesson);\n  useEffect(() => {\n    if (!isNewCourse) {\n      fetchCourseData();\n    } else {\n      setLoading(false);\n    }\n  }, [id, supabase]);\n  const fetchCourseData = async () => {\n    try {\n      // Fetch course details\n      const {\n        data: courseData,\n        error: courseError\n      } = await supabase.from('courses').select('*').eq('id', id).single();\n      if (courseError) throw courseError;\n      setCourse(courseData);\n      if (courseData.cover_image) {\n        setCoverImagePreview(courseData.cover_image);\n      }\n\n      // Fetch lessons\n      const {\n        data: lessonsData,\n        error: lessonsError\n      } = await supabase.from('lessons').select('*').eq('course_id', id).order('order_index', {\n        ascending: true\n      });\n      if (lessonsError) throw lessonsError;\n      setLessons(lessonsData || []);\n    } catch (error) {\n      console.error('Error fetching course data:', error);\n      setError('Error loading course data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCourseChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCourse({\n      ...course,\n      [name]: value\n    });\n  };\n  const handleCoverImageChange = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setCoverImageFile(file);\n      const reader = new FileReader();\n      reader.onload = e => {\n        setCoverImagePreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleLessonChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCurrentLesson({\n      ...currentLesson,\n      [name]: value\n    });\n  };\n  const addNewLesson = () => {\n    setCurrentLessonId(null);\n    setCurrentLesson({\n      ...emptyLesson,\n      order_index: lessons.length\n    });\n  };\n  const editLesson = lesson => {\n    setCurrentLessonId(lesson.id);\n    setCurrentLesson(lesson);\n  };\n  const saveLesson = async () => {\n    if (!currentLesson.title) {\n      alert('Lesson title is required');\n      return;\n    }\n    try {\n      const lessonToSave = {\n        ...currentLesson\n      };\n      delete lessonToSave.isNew;\n      if (currentLessonId) {\n        // Update existing lesson\n        const {\n          error\n        } = await supabase.from('lessons').update(lessonToSave).eq('id', currentLessonId);\n        if (error) throw error;\n        setLessons(lessons.map(l => l.id === currentLessonId ? {\n          ...lessonToSave,\n          id: currentLessonId\n        } : l));\n      } else {\n        // Create new lesson\n        lessonToSave.course_id = id || course.id;\n        const {\n          data,\n          error\n        } = await supabase.from('lessons').insert([lessonToSave]).select();\n        if (error) throw error;\n        setLessons([...lessons, data[0]]);\n      }\n\n      // Reset form\n      setCurrentLessonId(null);\n      setCurrentLesson(emptyLesson);\n    } catch (error) {\n      console.error('Error saving lesson:', error);\n      alert('Error saving lesson');\n    }\n  };\n  const deleteLesson = async lessonId => {\n    if (!window.confirm('Are you sure you want to delete this lesson?')) {\n      return;\n    }\n    try {\n      const {\n        error\n      } = await supabase.from('lessons').delete().eq('id', lessonId);\n      if (error) throw error;\n      setLessons(lessons.filter(l => l.id !== lessonId));\n      if (currentLessonId === lessonId) {\n        setCurrentLessonId(null);\n        setCurrentLesson(emptyLesson);\n      }\n    } catch (error) {\n      console.error('Error deleting lesson:', error);\n      alert('Error deleting lesson');\n    }\n  };\n  const handleDragEnd = async result => {\n    if (!result.destination) return;\n    const items = Array.from(lessons);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n\n    // Update order_index for each lesson\n    const updatedLessons = items.map((item, index) => ({\n      ...item,\n      order_index: index\n    }));\n    setLessons(updatedLessons);\n\n    // Update the order in the database\n    try {\n      const updates = updatedLessons.map(lesson => ({\n        id: lesson.id,\n        order_index: lesson.order_index\n      }));\n      for (const update of updates) {\n        const {\n          error\n        } = await supabase.from('lessons').update({\n          order_index: update.order_index\n        }).eq('id', update.id);\n        if (error) throw error;\n      }\n    } catch (error) {\n      console.error('Error updating lesson order:', error);\n    }\n  };\n  const saveCourse = async () => {\n    if (!course.title) {\n      alert('Course title is required');\n      return;\n    }\n    setSaving(true);\n    try {\n      let coverImageUrl = course.cover_image;\n\n      // Upload cover image if there's a new one\n      if (coverImageFile) {\n        const fileExt = coverImageFile.name.split('.').pop();\n        const fileName = `${Date.now()}.${fileExt}`;\n        const filePath = `course-covers/${fileName}`;\n        const {\n          error: uploadError\n        } = await supabase.storage.from('course-media').upload(filePath, coverImageFile);\n        if (uploadError) throw uploadError;\n        const {\n          data\n        } = supabase.storage.from('course-media').getPublicUrl(filePath);\n        coverImageUrl = data.publicUrl;\n      }\n      const courseData = {\n        ...course,\n        cover_image: coverImageUrl,\n        updated_at: new Date()\n      };\n      if (isNewCourse) {\n        // Create new course\n        courseData.created_at = new Date();\n        courseData.creator_id = session.user.id;\n        const {\n          data,\n          error\n        } = await supabase.from('courses').insert([courseData]).select();\n        if (error) throw error;\n\n        // Navigate to new course page\n        navigate(`/course/edit/${data[0].id}`);\n      } else {\n        // Update existing course\n        const {\n          error\n        } = await supabase.from('courses').update(courseData).eq('id', id);\n        if (error) throw error;\n      }\n      alert(isNewCourse ? 'Course created successfully!' : 'Course updated successfully!');\n    } catch (error) {\n      console.error('Error saving course:', error);\n      setError('Error saving course');\n    } finally {\n      setSaving(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-1 gap-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold mb-6\",\n        children: isNewCourse ? 'Create New Course' : 'Edit Course'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 font-bold mb-2\",\n          htmlFor: \"title\",\n          children: \"Course Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          name: \"title\",\n          value: course.title,\n          onChange: handleCourseChange,\n          className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n          placeholder: \"Enter course title\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 font-bold mb-2\",\n          htmlFor: \"description\",\n          children: \"Course Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          name: \"description\",\n          value: course.description,\n          onChange: handleCourseChange,\n          className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\",\n          placeholder: \"Enter course description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-bold mb-2\",\n            htmlFor: \"level\",\n            children: \"Course Level\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"level\",\n            name: \"level\",\n            value: course.level,\n            onChange: handleCourseChange,\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Beginner\",\n              children: \"Beginner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Intermediate\",\n              children: \"Intermediate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Advanced\",\n              children: \"Advanced\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"All Levels\",\n              children: \"All Levels\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-bold mb-2\",\n            htmlFor: \"duration\",\n            children: \"Course Duration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"duration\",\n            name: \"duration\",\n            value: course.duration,\n            onChange: handleCourseChange,\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            placeholder: \"e.g. 2 weeks, 5 hours, Self-paced\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 font-bold mb-2\",\n          htmlFor: \"cover_image\",\n          children: \"Course Cover Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"cover_image\",\n            accept: \"image/*\",\n            onChange: handleCoverImageChange,\n            className: \"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), coverImagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: coverImagePreview,\n              alt: \"Cover preview\",\n              className: \"h-16 w-24 object-cover rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => navigate(-1),\n          className: \"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded mr-2\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: saveCourse,\n          disabled: saving,\n          className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n          children: saving ? 'Saving...' : isNewCourse ? 'Create Course' : 'Save Changes'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), !isNewCourse && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-6\",\n        children: \"Lessons\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: currentLessonId ? 'Edit Lesson' : 'Add New Lesson'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-bold mb-2\",\n            htmlFor: \"lesson_title\",\n            children: \"Lesson Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"lesson_title\",\n            name: \"title\",\n            value: currentLesson.title,\n            onChange: handleLessonChange,\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            placeholder: \"Enter lesson title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-bold mb-2\",\n            htmlFor: \"lesson_content\",\n            children: \"Lesson Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"lesson_content\",\n            name: \"content\",\n            value: currentLesson.content,\n            onChange: handleLessonChange,\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\",\n            placeholder: \"Enter lesson content (HTML supported)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-bold mb-2\",\n            htmlFor: \"video_url\",\n            children: \"Video URL (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            id: \"video_url\",\n            name: \"video_url\",\n            value: currentLesson.video_url,\n            onChange: handleLessonChange,\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            placeholder: \"Enter video URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 font-bold mb-2\",\n            htmlFor: \"lesson_duration\",\n            children: \"Lesson Duration (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"lesson_duration\",\n            name: \"duration\",\n            value: currentLesson.duration,\n            onChange: handleLessonChange,\n            className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n            placeholder: \"e.g. 15 minutes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setCurrentLessonId(null);\n              setCurrentLesson(emptyLesson);\n            },\n            className: \"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded mr-2\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: saveLesson,\n            className: \"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\",\n            children: currentLessonId ? 'Update Lesson' : 'Add Lesson'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Lesson List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-2 text-gray-600 text-sm\",\n          children: \"Drag and drop to reorder lessons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 13\n        }, this), lessons.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 italic\",\n          children: \"No lessons yet. Add your first lesson above.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: lessons.map((lesson, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"bg-white p-4 rounded-lg shadow mb-2 flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mr-2 text-gray-400\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"w-4 h-4\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: \"2\",\n                      d: \"M8 9l4-4 4 4m0 6l-4 4-4-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 528,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: lesson.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => editLesson(lesson),\n                  className: \"text-blue-500 hover:text-blue-700 mr-2\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deleteLesson(lesson.id),\n                  className: \"text-red-500 hover:text-red-700\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 23\n              }, this)]\n            }, lesson.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: addNewLesson,\n            className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n            children: \"+ Add Another Lesson\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 301,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseEditor, \"h6hEgVam91MBstrE/4nnkG9Lx6g=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CourseEditor;\nexport default CourseEditor;\nvar _c;\n$RefreshReg$(_c, \"CourseEditor\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useParams","useNavigate","AuthContext","jsxDEV","_jsxDEV","CourseEditor","_s","id","navigate","supabase","session","isNewCourse","undefined","course","setCourse","title","description","level","cover_image","duration","lessons","setLessons","loading","setLoading","saving","setSaving","error","setError","coverImageFile","setCoverImageFile","coverImagePreview","setCoverImagePreview","currentLessonId","setCurrentLessonId","emptyLesson","content","video_url","order_index","isNew","currentLesson","setCurrentLesson","fetchCourseData","data","courseData","courseError","from","select","eq","single","lessonsData","lessonsError","order","ascending","console","handleCourseChange","e","name","value","target","handleCoverImageChange","file","files","reader","FileReader","onload","result","readAsDataURL","handleLessonChange","addNewLesson","length","editLesson","lesson","saveLesson","alert","lessonToSave","update","map","l","course_id","insert","deleteLesson","lessonId","window","confirm","delete","filter","handleDragEnd","destination","items","Array","reorderedItem","splice","source","index","updatedLessons","item","updates","saveCourse","coverImageUrl","fileExt","split","pop","fileName","Date","now","filePath","uploadError","storage","upload","getPublicUrl","publicUrl","updated_at","created_at","creator_id","user","className","children","_jsxFileName","lineNumber","columnNumber","htmlFor","type","onChange","placeholder","required","accept","src","alt","onClick","disabled","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["/workspaces/BringSpeech/src/pages/CourseEditor.jsx"],"sourcesContent":["// pages/CourseEditor.jsx\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../App';\n\nconst CourseEditor = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { supabase, session } = useContext(AuthContext);\n  const isNewCourse = id === undefined;\n\n  const [course, setCourse] = useState({\n    title: '',\n    description: '',\n    level: 'Beginner',\n    cover_image: null,\n    duration: 'Self-paced',\n  });\n\n  const [lessons, setLessons] = useState([]);\n  const [loading, setLoading] = useState(!isNewCourse);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState(null);\n  const [coverImageFile, setCoverImageFile] = useState(null);\n  const [coverImagePreview, setCoverImagePreview] = useState(null);\n  const [currentLessonId, setCurrentLessonId] = useState(null);\n\n  const emptyLesson = {\n    title: '',\n    content: '',\n    video_url: '',\n    duration: '',\n    order_index: 0,\n    isNew: true,\n  };\n\n  const [currentLesson, setCurrentLesson] = useState(emptyLesson);\n\n  useEffect(() => {\n    if (!isNewCourse) {\n      fetchCourseData();\n    } else {\n      setLoading(false);\n    }\n  }, [id, supabase]);\n\n  const fetchCourseData = async () => {\n    try {\n      // Fetch course details\n      const { data: courseData, error: courseError } = await supabase\n        .from('courses')\n        .select('*')\n        .eq('id', id)\n        .single();\n\n      if (courseError) throw courseError;\n      setCourse(courseData);\n      \n      if (courseData.cover_image) {\n        setCoverImagePreview(courseData.cover_image);\n      }\n\n      // Fetch lessons\n      const { data: lessonsData, error: lessonsError } = await supabase\n        .from('lessons')\n        .select('*')\n        .eq('course_id', id)\n        .order('order_index', { ascending: true });\n\n      if (lessonsError) throw lessonsError;\n      setLessons(lessonsData || []);\n    } catch (error) {\n      console.error('Error fetching course data:', error);\n      setError('Error loading course data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCourseChange = (e) => {\n    const { name, value } = e.target;\n    setCourse({\n      ...course,\n      [name]: value,\n    });\n  };\n\n  const handleCoverImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setCoverImageFile(file);\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setCoverImagePreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleLessonChange = (e) => {\n    const { name, value } = e.target;\n    setCurrentLesson({\n      ...currentLesson,\n      [name]: value,\n    });\n  };\n\n  const addNewLesson = () => {\n    setCurrentLessonId(null);\n    setCurrentLesson({\n      ...emptyLesson,\n      order_index: lessons.length,\n    });\n  };\n\n  const editLesson = (lesson) => {\n    setCurrentLessonId(lesson.id);\n    setCurrentLesson(lesson);\n  };\n\n  const saveLesson = async () => {\n    if (!currentLesson.title) {\n      alert('Lesson title is required');\n      return;\n    }\n\n    try {\n      const lessonToSave = { ...currentLesson };\n      delete lessonToSave.isNew;\n\n      if (currentLessonId) {\n        // Update existing lesson\n        const { error } = await supabase\n          .from('lessons')\n          .update(lessonToSave)\n          .eq('id', currentLessonId);\n\n        if (error) throw error;\n\n        setLessons(lessons.map(l => l.id === currentLessonId ? { ...lessonToSave, id: currentLessonId } : l));\n      } else {\n        // Create new lesson\n        lessonToSave.course_id = id || course.id;\n        \n        const { data, error } = await supabase\n          .from('lessons')\n          .insert([lessonToSave])\n          .select();\n\n        if (error) throw error;\n\n        setLessons([...lessons, data[0]]);\n      }\n\n      // Reset form\n      setCurrentLessonId(null);\n      setCurrentLesson(emptyLesson);\n    } catch (error) {\n      console.error('Error saving lesson:', error);\n      alert('Error saving lesson');\n    }\n  };\n\n  const deleteLesson = async (lessonId) => {\n    if (!window.confirm('Are you sure you want to delete this lesson?')) {\n      return;\n    }\n\n    try {\n      const { error } = await supabase\n        .from('lessons')\n        .delete()\n        .eq('id', lessonId);\n\n      if (error) throw error;\n\n      setLessons(lessons.filter(l => l.id !== lessonId));\n\n      if (currentLessonId === lessonId) {\n        setCurrentLessonId(null);\n        setCurrentLesson(emptyLesson);\n      }\n    } catch (error) {\n      console.error('Error deleting lesson:', error);\n      alert('Error deleting lesson');\n    }\n  };\n\n  const handleDragEnd = async (result) => {\n    if (!result.destination) return;\n\n    const items = Array.from(lessons);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n\n    // Update order_index for each lesson\n    const updatedLessons = items.map((item, index) => ({\n      ...item,\n      order_index: index,\n    }));\n\n    setLessons(updatedLessons);\n\n    // Update the order in the database\n    try {\n      const updates = updatedLessons.map(lesson => ({\n        id: lesson.id,\n        order_index: lesson.order_index,\n      }));\n\n      for (const update of updates) {\n        const { error } = await supabase\n          .from('lessons')\n          .update({ order_index: update.order_index })\n          .eq('id', update.id);\n\n        if (error) throw error;\n      }\n    } catch (error) {\n      console.error('Error updating lesson order:', error);\n    }\n  };\n\n  const saveCourse = async () => {\n    if (!course.title) {\n      alert('Course title is required');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      let coverImageUrl = course.cover_image;\n\n      // Upload cover image if there's a new one\n      if (coverImageFile) {\n        const fileExt = coverImageFile.name.split('.').pop();\n        const fileName = `${Date.now()}.${fileExt}`;\n        const filePath = `course-covers/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n          .from('course-media')\n          .upload(filePath, coverImageFile);\n\n        if (uploadError) throw uploadError;\n\n        const { data } = supabase.storage\n          .from('course-media')\n          .getPublicUrl(filePath);\n\n        coverImageUrl = data.publicUrl;\n      }\n\n      const courseData = {\n        ...course,\n        cover_image: coverImageUrl,\n        updated_at: new Date(),\n      };\n\n      if (isNewCourse) {\n        // Create new course\n        courseData.created_at = new Date();\n        courseData.creator_id = session.user.id;\n\n        const { data, error } = await supabase\n          .from('courses')\n          .insert([courseData])\n          .select();\n\n        if (error) throw error;\n\n        // Navigate to new course page\n        navigate(`/course/edit/${data[0].id}`);\n      } else {\n        // Update existing course\n        const { error } = await supabase\n          .from('courses')\n          .update(courseData)\n          .eq('id', id);\n\n        if (error) throw error;\n      }\n\n      alert(isNewCourse ? 'Course created successfully!' : 'Course updated successfully!');\n    } catch (error) {\n      console.error('Error saving course:', error);\n      setError('Error saving course');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 gap-8\">\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h1 className=\"text-2xl font-bold mb-6\">\n          {isNewCourse ? 'Create New Course' : 'Edit Course'}\n        </h1>\n        \n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n            {error}\n          </div>\n        )}\n        \n        <div className=\"mb-6\">\n          <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"title\">\n            Course Title\n          </label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            value={course.title}\n            onChange={handleCourseChange}\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            placeholder=\"Enter course title\"\n            required\n          />\n        </div>\n        \n        <div className=\"mb-6\">\n          <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"description\">\n            Course Description\n          </label>\n          <textarea\n            id=\"description\"\n            name=\"description\"\n            value={course.description}\n            onChange={handleCourseChange}\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\"\n            placeholder=\"Enter course description\"\n          />\n        </div>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n          <div>\n            <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"level\">\n              Course Level\n            </label>\n            <select\n              id=\"level\"\n              name=\"level\"\n              value={course.level}\n              onChange={handleCourseChange}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            >\n              <option value=\"Beginner\">Beginner</option>\n              <option value=\"Intermediate\">Intermediate</option>\n              <option value=\"Advanced\">Advanced</option>\n              <option value=\"All Levels\">All Levels</option>\n            </select>\n          </div>\n          \n          <div>\n            <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"duration\">\n              Course Duration\n            </label>\n            <input\n              type=\"text\"\n              id=\"duration\"\n              name=\"duration\"\n              value={course.duration}\n              onChange={handleCourseChange}\n              className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n              placeholder=\"e.g. 2 weeks, 5 hours, Self-paced\"\n            />\n          </div>\n        </div>\n        \n        <div className=\"mb-6\">\n          <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"cover_image\">\n            Course Cover Image\n          </label>\n          <div className=\"flex items-center\">\n            <input\n              type=\"file\"\n              id=\"cover_image\"\n              accept=\"image/*\"\n              onChange={handleCoverImageChange}\n              className=\"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            />\n            \n            {coverImagePreview && (\n              <div className=\"ml-4\">\n                <img\n                  src={coverImagePreview}\n                  alt=\"Cover preview\"\n                  className=\"h-16 w-24 object-cover rounded\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"flex justify-end\">\n          <button\n            type=\"button\"\n            onClick={() => navigate(-1)}\n            className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded mr-2\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            onClick={saveCourse}\n            disabled={saving}\n            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n          >\n            {saving ? 'Saving...' : isNewCourse ? 'Create Course' : 'Save Changes'}\n          </button>\n        </div>\n      </div>\n      \n      {!isNewCourse && (\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\n          <h2 className=\"text-xl font-bold mb-6\">Lessons</h2>\n          \n          <div className=\"mb-6\">\n            <h3 className=\"text-lg font-semibold mb-4\">\n              {currentLessonId ? 'Edit Lesson' : 'Add New Lesson'}\n            </h3>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"lesson_title\">\n                Lesson Title\n              </label>\n              <input\n                type=\"text\"\n                id=\"lesson_title\"\n                name=\"title\"\n                value={currentLesson.title}\n                onChange={handleLessonChange}\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                placeholder=\"Enter lesson title\"\n              />\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"lesson_content\">\n                Lesson Content\n              </label>\n              <textarea\n                id=\"lesson_content\"\n                name=\"content\"\n                value={currentLesson.content}\n                onChange={handleLessonChange}\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-32\"\n                placeholder=\"Enter lesson content (HTML supported)\"\n              />\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"video_url\">\n                Video URL (optional)\n              </label>\n              <input\n                type=\"url\"\n                id=\"video_url\"\n                name=\"video_url\"\n                value={currentLesson.video_url}\n                onChange={handleLessonChange}\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                placeholder=\"Enter video URL\"\n              />\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-gray-700 font-bold mb-2\" htmlFor=\"lesson_duration\">\n                Lesson Duration (optional)\n              </label>\n              <input\n                type=\"text\"\n                id=\"lesson_duration\"\n                name=\"duration\"\n                value={currentLesson.duration}\n                onChange={handleLessonChange}\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                placeholder=\"e.g. 15 minutes\"\n              />\n            </div>\n            \n            <div className=\"flex justify-end\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setCurrentLessonId(null);\n                  setCurrentLesson(emptyLesson);\n                }}\n                className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded mr-2\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                onClick={saveLesson}\n                className=\"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded\"\n              >\n                {currentLessonId ? 'Update Lesson' : 'Add Lesson'}\n              </button>\n            </div>\n          </div>\n          \n          <div>\n            <h3 className=\"text-lg font-semibold mb-4\">Lesson List</h3>\n            <p className=\"mb-2 text-gray-600 text-sm\">Drag and drop to reorder lessons</p>\n            \n            {lessons.length === 0 ? (\n              <p className=\"text-gray-500 italic\">No lessons yet. Add your first lesson above.</p>\n            ) : (\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <ul>\n                  {lessons.map((lesson, index) => (\n                    <li \n                      key={lesson.id} \n                      className=\"bg-white p-4 rounded-lg shadow mb-2 flex justify-between items-center\"\n                    >\n                      <div className=\"flex items-center\">\n                        <div className=\"mr-2 text-gray-400\">\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 9l4-4 4 4m0 6l-4 4-4-4\"></path>\n                          </svg>\n                        </div>\n                        <span className=\"font-medium\">{lesson.title}</span>\n                      </div>\n                      <div>\n                        <button\n                          onClick={() => editLesson(lesson)}\n                          className=\"text-blue-500 hover:text-blue-700 mr-2\"\n                        >\n                          Edit\n                        </button>\n                        <button\n                          onClick={() => deleteLesson(lesson.id)}\n                          className=\"text-red-500 hover:text-red-700\"\n                        >\n                          Delete\n                        </button>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n            \n            <div className=\"mt-4\">\n              <button\n                type=\"button\"\n                onClick={addNewLesson}\n                className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n              >\n                + Add Another Lesson\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CourseEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}