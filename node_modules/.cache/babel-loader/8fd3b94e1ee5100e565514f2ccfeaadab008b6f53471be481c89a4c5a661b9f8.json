{"ast":null,"code":"// pages/Dashboard.jsx\nimport React,{useContext,useEffect,useState}from'react';import{Link}from'react-router-dom';import{AuthContext}from'../App';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const{session,supabase}=useContext(AuthContext);const[enrolledCourses,setEnrolledCourses]=useState([]);const[createdCourses,setCreatedCourses]=useState([]);const[userRole,setUserRole]=useState(null);const[loading,setLoading]=useState(true);const[user,setUser]=useState(null);useEffect(()=>{const fetchData=async()=>{if(!session){setLoading(false);return;}try{// Get user profile\nconst{data:userData,error:userError}=await supabase.from('profiles').select('*').eq('id',session.user.id).single();if(userError&&userError.code!=='PGRST116')throw userError;setUserRole(userData===null||userData===void 0?void 0:userData.role);setUser(userData);// Fetch enrolled courses\nconst{data:enrollmentData,error:enrollmentError}=await supabase.from('enrollments').select('course_id').eq('user_id',session.user.id);if(enrollmentError)throw enrollmentError;if(enrollmentData&&enrollmentData.length>0){const courseIds=enrollmentData.map(enrollment=>enrollment.course_id);const{data:coursesData,error:coursesError}=await supabase.from('courses').select('*').in('id',courseIds);if(coursesError)throw coursesError;setEnrolledCourses(coursesData||[]);}// Fetch created courses for instructors/admins\nif((userData===null||userData===void 0?void 0:userData.role)==='instructor'||(userData===null||userData===void 0?void 0:userData.role)==='admin'){const{data:createdData,error:createdError}=await supabase.from('courses').select('*').eq('creator_id',session.user.id).order('created_at',{ascending:false});if(createdError)throw createdError;setCreatedCourses(createdData||[]);}}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};fetchData();},[session,supabase]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"})});}if(!session){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:\"Welcome to BringSpeech\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8 max-w-2xl mx-auto\",children:\"Welcome to Emma Petersen's Accent Masterclass.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-center gap-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium\",children:\"Log In\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12\",children:/*#__PURE__*/_jsx(Link,{to:\"/courses\",className:\"text-blue-500 hover:underline\",children:\"Browse all courses \\u2192\"})})]});}// Course Card Component\nconst CourseCard=_ref=>{let{course,type}=_ref;return/*#__PURE__*/_jsxs(Link,{to:`/course/${course.id}`,className:\"block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-40 bg-gray-200 relative overflow-hidden\",children:course.cover_image?/*#__PURE__*/_jsx(\"img\",{src:course.cover_image,alt:course.title,className:\"w-full h-full object-cover\"}):/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full bg-gray-200 text-gray-400\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-1\",children:course.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-2 line-clamp-2\",children:course.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[type==='enrolled'?/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 text-sm\",children:\"Continue Learning\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 text-sm\",children:\"Manage Course\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\",children:course.level||'All Levels'})]})]})]});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold mb-2\",children:[\"Welcome, \",(user===null||user===void 0?void 0:user.full_name)||session.user.email]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:userRole==='instructor'?'Instructor Dashboard':'Student Dashboard'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"My Enrolled Courses\"}),/*#__PURE__*/_jsx(Link,{to:\"/courses\",className:\"text-blue-500 hover:underline\",children:\"Browse more courses\"})]}),enrolledCourses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"You haven't enrolled in any courses yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/courses\",className:\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\",children:\"Explore Courses\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:enrolledCourses.map(course=>/*#__PURE__*/_jsx(CourseCard,{course:course,type:\"enrolled\"},course.id))})]}),(userRole==='instructor'||userRole==='admin')&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"My Created Courses\"}),/*#__PURE__*/_jsx(Link,{to:\"/course/new\",className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded\",children:\"Create New Course\"})]}),createdCourses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"You haven't created any courses yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/course/new\",className:\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded\",children:\"Create Your First Course\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:createdCourses.map(course=>/*#__PURE__*/_jsx(CourseCard,{course:course,type:\"created\"},course.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Quick Stats\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-500 font-medium\",children:\"Enrolled Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:enrolledCourses.length})]}),(userRole==='instructor'||userRole==='admin')&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-500 font-medium\",children:\"Created Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:createdCourses.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-500 font-medium\",children:\"Total Students\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:createdCourses.reduce((total,course)=>total+(course.student_count||0),0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-500 font-medium\",children:\"Total Lessons\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:createdCourses.reduce((total,course)=>total+(course.lessons_count||0),0)})]})]}),userRole!=='instructor'&&userRole!=='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-purple-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-500 font-medium\",children:\"Completed Lessons\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-500 font-medium\",children:\"Certificates\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:\"0\"})]})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","session","supabase","enrolledCourses","setEnrolledCourses","createdCourses","setCreatedCourses","userRole","setUserRole","loading","setLoading","user","setUser","fetchData","data","userData","error","userError","from","select","eq","id","single","code","role","enrollmentData","enrollmentError","length","courseIds","map","enrollment","course_id","coursesData","coursesError","in","createdData","createdError","order","ascending","console","className","children","to","CourseCard","_ref","course","type","cover_image","src","alt","title","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","description","level","full_name","email","reduce","total","student_count","lessons_count"],"sources":["/workspaces/BringSpeech/src/pages/Dashboard.jsx"],"sourcesContent":["// pages/Dashboard.jsx\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../App';\n\nconst Dashboard = () => {\n  const { session, supabase } = useContext(AuthContext);\n  const [enrolledCourses, setEnrolledCourses] = useState([]);\n  const [createdCourses, setCreatedCourses] = useState([]);\n  const [userRole, setUserRole] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!session) {\n        setLoading(false);\n        return;\n      }\n\n      try {\n        // Get user profile\n        const { data: userData, error: userError } = await supabase\n          .from('profiles')\n          .select('*')\n          .eq('id', session.user.id)\n          .single();\n\n        if (userError && userError.code !== 'PGRST116') throw userError;\n        setUserRole(userData?.role);\n        setUser(userData);\n\n        // Fetch enrolled courses\n        const { data: enrollmentData, error: enrollmentError } = await supabase\n          .from('enrollments')\n          .select('course_id')\n          .eq('user_id', session.user.id);\n\n        if (enrollmentError) throw enrollmentError;\n\n        if (enrollmentData && enrollmentData.length > 0) {\n          const courseIds = enrollmentData.map(enrollment => enrollment.course_id);\n          \n          const { data: coursesData, error: coursesError } = await supabase\n            .from('courses')\n            .select('*')\n            .in('id', courseIds);\n\n          if (coursesError) throw coursesError;\n          setEnrolledCourses(coursesData || []);\n        }\n\n        // Fetch created courses for instructors/admins\n        if (userData?.role === 'instructor' || userData?.role === 'admin') {\n          const { data: createdData, error: createdError } = await supabase\n            .from('courses')\n            .select('*')\n            .eq('creator_id', session.user.id)\n            .order('created_at', { ascending: false });\n\n          if (createdError) throw createdError;\n          setCreatedCourses(createdData || []);\n        }\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [session, supabase]);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  if (!session) {\n    return (\n      <div className=\"text-center py-12\">\n        <h1 className=\"text-3xl font-bold mb-4\">Welcome to BringSpeech</h1>\n        <p className=\"text-gray-600 mb-8 max-w-2xl mx-auto\">\n          Welcome to Emma Petersen's Accent Masterclass.\n        </p>\n        <div className=\"flex flex-col sm:flex-row justify-center gap-4\">\n          <Link to=\"/login\" className=\"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-medium\">\n            Log In\n          </Link>\n          <Link to=\"/register\" className=\"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium\">\n            Sign Up\n          </Link>\n        </div>\n        <div className=\"mt-12\">\n          <Link to=\"/courses\" className=\"text-blue-500 hover:underline\">\n            Browse all courses →\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  // Course Card Component\n  const CourseCard = ({ course, type }) => (\n    <Link\n      to={`/course/${course.id}`}\n      className=\"block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300\"\n    >\n      <div className=\"h-40 bg-gray-200 relative overflow-hidden\">\n        {course.cover_image ? (\n          <img\n            src={course.cover_image}\n            alt={course.title}\n            className=\"w-full h-full object-cover\"\n          />\n        ) : (\n          <div className=\"flex items-center justify-center h-full bg-gray-200 text-gray-400\">\n            <svg className=\"w-12 h-12\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"></path>\n            </svg>\n          </div>\n        )}\n      </div>\n      <div className=\"p-4\">\n        <h3 className=\"text-lg font-semibold mb-1\">{course.title}</h3>\n        <p className=\"text-gray-600 text-sm mb-2 line-clamp-2\">\n          {course.description}\n        </p>\n        <div className=\"flex justify-between items-center\">\n          {type === 'enrolled' ? (\n            <span className=\"text-blue-500 text-sm\">Continue Learning</span>\n          ) : (\n            <span className=\"text-green-500 text-sm\">Manage Course</span>\n          )}\n          <span className=\"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full\">\n            {course.level || 'All Levels'}\n          </span>\n        </div>\n      </div>\n    </Link>\n  );\n\n  return (\n    <div>\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n        <h1 className=\"text-2xl font-bold mb-2\">Welcome, {user?.full_name || session.user.email}</h1>\n        <p className=\"text-gray-600\">\n          {userRole === 'instructor' ? 'Instructor Dashboard' : 'Student Dashboard'}\n        </p>\n      </div>\n      \n      {/* Enrolled Courses Section */}\n      <div className=\"mb-10\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold\">My Enrolled Courses</h2>\n          <Link to=\"/courses\" className=\"text-blue-500 hover:underline\">\n            Browse more courses\n          </Link>\n        </div>\n        \n        {enrolledCourses.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\n            <p className=\"text-gray-500 mb-4\">You haven't enrolled in any courses yet.</p>\n            <Link to=\"/courses\" className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\">\n              Explore Courses\n            </Link>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {enrolledCourses.map(course => (\n              <CourseCard key={course.id} course={course} type=\"enrolled\" />\n            ))}\n          </div>\n        )}\n      </div>\n      \n      {/* Instructor Created Courses Section */}\n      {(userRole === 'instructor' || userRole === 'admin') && (\n        <div className=\"mb-10\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-xl font-semibold\">My Created Courses</h2>\n            <Link to=\"/course/new\" className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded\">\n              Create New Course\n            </Link>\n          </div>\n          \n          {createdCourses.length === 0 ? (\n            <div className=\"bg-white rounded-lg shadow-md p-6 text-center\">\n              <p className=\"text-gray-500 mb-4\">You haven't created any courses yet.</p>\n              <Link to=\"/course/new\" className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded\">\n                Create Your First Course\n              </Link>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {createdCourses.map(course => (\n                <CourseCard key={course.id} course={course} type=\"created\" />\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Quick Stats Section */}\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 className=\"text-xl font-semibold mb-4\">Quick Stats</h2>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4\">\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\n            <p className=\"text-sm text-blue-500 font-medium\">Enrolled Courses</p>\n            <p className=\"text-2xl font-bold\">{enrolledCourses.length}</p>\n          </div>\n          \n          {(userRole === 'instructor' || userRole === 'admin') && (\n            <>\n              <div className=\"bg-green-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-green-500 font-medium\">Created Courses</p>\n                <p className=\"text-2xl font-bold\">{createdCourses.length}</p>\n              </div>\n              \n              <div className=\"bg-purple-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-purple-500 font-medium\">Total Students</p>\n                <p className=\"text-2xl font-bold\">\n                  {createdCourses.reduce((total, course) => total + (course.student_count || 0), 0)}\n                </p>\n              </div>\n              \n              <div className=\"bg-yellow-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-yellow-500 font-medium\">Total Lessons</p>\n                <p className=\"text-2xl font-bold\">\n                  {createdCourses.reduce((total, course) => total + (course.lessons_count || 0), 0)}\n                </p>\n              </div>\n            </>\n          )}\n\n          {userRole !== 'instructor' && userRole !== 'admin' && (\n            <>\n              <div className=\"bg-purple-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-purple-500 font-medium\">Completed Lessons</p>\n                <p className=\"text-2xl font-bold\">0</p>\n              </div>\n              \n              <div className=\"bg-yellow-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-yellow-500 font-medium\">Certificates</p>\n                <p className=\"text-2xl font-bold\">0</p>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}